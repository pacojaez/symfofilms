{% extends 'layouts/base.html.twig' %}

{% block title %}
	{{ peli.titulo }}
{% endblock %}

{% block main %}
	<!-- Card with no padding with multiple content containers nested inside of it -->
<div class="w-800 mw-full d-flex justify-center m-0 p-0">
	<div class="card p-0">
      	<div class="d-flex justify-center m-2">
	      <img src="{{ asset(covers_directory~'/'~(peli.caratula ?? 'default.jpg' ))}}" class="h-400 w-300 img-fluid rounded-top" alt="{{ peli.titulo }}" title="{{ peli.titulo }}">
      	</div>
			<!-- rounded-top = rounded corners on the top -->
			<!-- First content container nested inside card -->
		<div class="content d-flex flex-col justify-content-center align-items-center">
		<h2 class="content-title text-primary text-smoothing-auto-dm font-weight-bolder font-size-24">
            {{ peli.titulo }}
        </h2>
        <h2 class="content-title">
            Dirigida por
            {{ peli.director }}
        </h2>
		<div>
			<span class="text-muted">
				<i class="fa fa-clock-o mr-5" aria-hidden="true"></i>
					Duracion:
					{{ peli.duracion }} min.
					<!-- mr-5 = margin-right: 0.5rem (5px) -->
			</span>
		</div>
		<div class="d-flex">
			<span class="badge">
				<i class="fa fa-comments text-primary mr-5" aria-hidden="true"></i>
					{{ peli.genero }}
					<!-- text-primary = color: primary-color, mr-5 = margin-right: 0.5rem (5px) -->
			</span>
		</div>
        <div class="d-flex">
			<span class="m-4">Valoracion: </span>
            <div class="d-flex justify-content-center align-items-center">
              {% if peli.valoracion != NULL %}
                  {% for i in 1..5 %}
                    {% if i <= peli.valoracion %}
                      <img src="{{ asset('img/samples/estrellaon.gif')}}" alt="{{ peli.valoracion }} / 5" title="{{ peli.valoracion }}/5" style="height:25px; width:25px"/>
                    {% else %}
                      <img src="{{ asset('img/samples/estrellaoff.gif')}}" alt="{{ peli.valoracion }} / 5" title="{{ peli.valoracion }}/5" style="height:25px; width:25px"/>
                    {% endif %}
                  {% endfor %}
                {% else %}
                  <p>Sin valoracion</p>
                {% endif %}
            </div>					
				</div>
			<div>
				<span class="text-muted">
					<i class="fa fa-clock-o mr-5" aria-hidden="true"></i>
						Estreno:
						{{ peli.estreno }}
						<!-- mr-5 = margin-right: 0.5rem (5px) -->
				</span>
			</div>
		</div>
		<hr/>
		<!-- Second content container nested inside card (comments) -->
		<div class="content d-flex flex-col justify-content-center align-items-center">
			<h2 class="content-title">
			    Sinopsis
			</h2>
			{% if peli.sinopsis %}
				<div>
					{% autoescape false %}
						<p class="m-2">{{ peli.sinopsis|replace({ "\n" : "</p><p class='m-2'>" })|escape }}</p>
					{% endautoescape %}
				</div>
			{% else %}
				  	<p>AUN NO HAY SINOPSIS DE LA PEL√çCULA</p>
			{% endif %}
			      {# <div class="text-center mt-20"> <!-- text-center = text-align: center, mt-20 = margin-top: 2rem (20px) -->
			        <button class="btn btn-sm">Load all comments</button>
			      </div> #}
		</div>
	</div>
</div>

<div id="f1_container">
	<div id="f1_card" class="shadow">
		<div class="front face">
			<img src="{{ asset(covers_directory~'/'~(peli.caratula ?? 'default.jpg' ))}}" class="img-fluid rounded-top" alt="{{ peli.titulo }}" title="{{ peli.titulo }}">
		</div>
		<div class="back face center">
			<div>
				<span class="text-muted">
					<i class="fa fa-clock-o mr-5" aria-hidden="true"></i>
						Estreno:
						{{ peli.estreno }}
						<!-- mr-5 = margin-right: 0.5rem (5px) -->
				</span>
			</div>
			<h2 class="content-title text-primary text-smoothing-auto-dm font-weight-bolder font-size-24">
					{{ peli.titulo }}
				</h2>
				<h2 class="content-title">
					Dirigida por
					{{ peli.director }}
				</h2>
		</div>
	</div>
</div>
{% endblock %}
